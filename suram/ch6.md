# ch6. 커널 오브젝트와 오브젝트 핸들 

| **section1. 커널 오브젝트와 오브젝트 핸들**

- 커널 = 알맹이
- 커널과 운영체제는 같은 개념으로 쓰였으나 시간이 지날수록 운영ㅇ체제가 하는 일이 많아지면서 운영체제가 더 큰 개념으로 쓰이고 운영체제의 핵심 알맹이를 커널이라 부름.
- 커널 오브젝트 : 커널에 의해 관리되는 리소스 정보를 담고 있는 데이터 블록.
    - 리소스 : 운영체제에 의해 생성 및 소멸 되는 대상들.
    - 프로그래머가 직접적으로 제어할 수 없음.
    - 간접적인 접근을 위해 함수 제공.
    - 커널 오브젝트의 핸들 정보를 받을 수 있음. 핸들을 통해 커널 오브젝트를 제어 요청할 수 있음. ex) 우선순위를 높이기
    - 즉 핸들값으로 커널 오브젝트에 접근. 핸들 = 숫자. 커널 오브젝트 = 구조체

| **section2. 커널 오브젝트와 핸들의 종속 관계**

1. 프로세스 A 생성 
2. 프로세스 A 커널 오브젝트 생성
3. 프로세스 A 핸들 테이블 생성
- Usage Count : 해당 커널 오브젝트를 사용할 수 있는 사용자 수
- **핸들값은 프로세스에 종속적**. 핸들값은 해당 프로세스 내에서만 의미를 지님.
- 부모 프로세스가 자식 프로세스를 실행시키면 자식 프로세스의 핸들 테이블이 부모에게 반환됨. 따라서 부모가 자식의 커널 오브젝트에 핸들값으로 접근 가능. 따라서 UC + 1
    - 프로세스, 쓰레드는 UC = 2(자기자신 프로세스+부모 프로세스) , 파일 = 1
- 프로세스가 종료되면 해당 프로세스가 접근가능한 커널 오브젝트의 UC 감소.
- 프로세스가 종료되었다고 해서 커널 오브젝트가 소멸되지 않음.
- UC가 0이되면 운영체제가 커널 오브젝트를 소멸시킴.
